---
// src/components/Header.astro
---
<header id="main-header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-500 ease-in-out">
  <nav class="container mx-auto px-6 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <a href="#home" class="flex items-center space-x-2">
        <div id="logo-container" class="w-12 h-12 rounded-lg bg-white flex items-center justify-center transition-all duration-500">
          <img id="logo-img" src="/logo_2.svg" alt="Rollout Logo" class="w-8 h-8 transition-all duration-500" />
        </div>
        <div class="flex flex-col">
          <span id="brand-title" class="font-bold text-lg leading-tight text-white transition-all duration-500">Rollout</span>
          <span id="brand-subtitle" class="text-xs text-white/80 transition-all duration-500">INNOVATIONS CO. LTD</span>
        </div>
      </a>
      
      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="#about" class="desktop-link text-white hover:text-purple-500 transition-colors font-medium">About</a>
        <a href="#products" class="desktop-link text-white hover:text-purple-500 transition-colors font-medium">Products</a>
        <a href="#contact" class="desktop-link text-white hover:text-purple-500 transition-colors font-medium">Contact</a>
        <a href="#contact" class="px-6 py-2 gradient-bg text-white rounded-full hover:bg-black transition-all transform hover:scale-105" >
          Book A Demo
        </a>
      </div>
      
      <!-- Mobile Menu Button -->
      <button id="mobile-toggle" class="md:hidden p-2 text-white transition-colors duration-500">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
    
     <!-- Mobile Navigation -->
    <div id="mobile-nav" class="hidden md:hidden mt-4 pb-4 bg-white rounded-lg shadow-lg px-4 py-4">
      <div class="flex flex-col space-y-4">
        <a href="#about" class="mobile-link text-black hover:text-purple-600 transition-colors font-medium">About</a>
        <a href="#products" class="mobile-link text-black hover:text-purple-600 transition-colors font-medium">Products</a>
        <a href="#contact" class="mobile-link text-black hover:text-purple-600 transition-colors font-medium">Contact</a>
        <a href="#contact" class="block px-6 py-2 rounded-full text-white font-medium w-full text-center" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
          Book A Demo
        </a>
      </div>
    </div>
  </nav>
</header>

<script is:inline>
  (function() {
    function initHeader() {
      const header = document.getElementById('main-header');
      const logoContainer = document.getElementById('logo-container');
      const logoLetter = document.getElementById('logo-letter');
      const brandTitle = document.getElementById('brand-title');
      const brandSubtitle = document.getElementById('brand-subtitle');
      const mobileToggle = document.getElementById('mobile-toggle');
      const mobileNav = document.getElementById('mobile-nav');
      const desktopLinks = document.querySelectorAll('.desktop-link');
      const mobileLinks = document.querySelectorAll('.mobile-link');
      
      if (!header) return;
      
      function handleScroll() {
        const heroSection = document.querySelector('#home, section, .hero');
        const scrollPosition = window.scrollY;
        const heroHeight = heroSection ? heroSection.offsetHeight : 600;
        
        // Check if scrolled past hero section
        if (scrollPosition > heroHeight - 100) {
          // White header state
          header.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
          header.style.backdropFilter = 'blur(10px)';
          header.style.boxShadow = '0 1px 3px 0 rgba(0, 0, 0, 0.1)';
          
          // Logo changes
          if (logoContainer) {
            logoContainer.style.background = 'white';
          }
          if (logoLetter) {
            logoLetter.style.background = 'white';
            logoLetter.style.webkitBackgroundClip = 'unset';
            logoLetter.style.webkitTextFillColor = 'white';
            logoLetter.style.backgroundClip = 'unset';
          }
          
          // Brand text changes
          if (brandTitle) brandTitle.style.color = '#111827';
          if (brandSubtitle) brandSubtitle.style.color = '#6b7280';
          if (mobileToggle) mobileToggle.style.color = '#111827';
          
          // Navigation links
          desktopLinks.forEach(link => {
            link.style.color = '#374151';
            link.classList.remove('hover:text-purple-300');
            link.classList.add('hover:text-purple-600');
          });
          
          mobileLinks.forEach(link => {
            link.style.color = '#374151';
          });
        } else {
          // Transparent header state
          header.style.backgroundColor = 'transparent';
          header.style.backdropFilter = 'none';
          header.style.boxShadow = 'none';
          
          // Logo changes
          if (logoContainer) {
            logoContainer.style.background = 'white';
          }
          if (logoLetter) {
            logoLetter.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            logoLetter.style.webkitBackgroundClip = 'text';
            logoLetter.style.webkitTextFillColor = 'transparent';
            logoLetter.style.backgroundClip = 'text';
          }
          
          // Brand text changes
          if (brandTitle) brandTitle.style.color = 'white';
          if (brandSubtitle) brandSubtitle.style.color = 'rgba(255, 255, 255, 0.8)';
          if (mobileToggle) mobileToggle.style.color = 'white';
          
          // Navigation links
          desktopLinks.forEach(link => {
            link.style.color = 'white';
            link.classList.add('hover:text-purple-300');
            link.classList.remove('hover:text-purple-600');
          });
          
          mobileLinks.forEach(link => {
            link.style.color = 'black';
          });
        }
      }
      
      // Mobile menu toggle
      if (mobileToggle && mobileNav) {
        mobileToggle.addEventListener('click', () => {
          mobileNav.classList.toggle('hidden');
        });
      }
      
      // Close mobile menu on link click
      mobileLinks.forEach(link => {
        link.addEventListener('click', () => {
          if (mobileNav) mobileNav.classList.add('hidden');
        });
      });
      
      // Listen to scroll events
      window.addEventListener('scroll', handleScroll);
      
      // Initial check
      handleScroll();
    }
    
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initHeader);
    } else {
      initHeader();
    }
  })();
</script>